<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>ReactJS Bootcamp</title>
        <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
        <meta name="author" content="Westin">
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
        <link rel="stylesheet" href="./lib/css/reveal.css">
        <link rel="stylesheet" href="./lib/css/theme/sky.css" id="theme">
        <!-- Code syntax highlighting -->
        <link rel="stylesheet" href="./lib/lib/css/zenburn.css">
        <!-- Printing and PDF exports -->
        <script>
          var link = document.createElement( 'link' );
          link.rel = 'stylesheet';
          link.type = 'text/css';
          link.href = window.location.search.match( /print-pdf/gi ) ? './lib/css/print/pdf.css' : './lib/css/print/paper.css';
          document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>
        <!--[if lt IE 9]>
        <script src="./lib/lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>
    <body>
        <div class="reveal">
            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <section>
                    <h4>Welcome to Day 3 of ReactJS Bootcamp</h4>
                </section>
                <section data-transition="fade">
                    <h2>Agenda</h2>
                    <ul>
                        <li>Introduction to Flux</li>
                        <li>Actions, Dispatchers, Stores</li>
                        <li>Overall Result of Flux Architecture</li>
                    </ul>
                </section>
                <section data-transition="fade">
                    <section>
                        <h2>Flux</h2>
                        <img src="./images/flux.png" alt="flux" width="700" />
                    </section>
                    <section>
                        <div>
                            Flux is really just a fancy term for pub/sub architecture,
                            i.e. data always flows one way through the application and
                            it is picked up along the way by various subscribers (stores)
                            who are listening to it.
                        </div>
                    </section>
                    <section>
                        Flux eschews MVC in favor of unidirectional data flow.
                        What this means is that data enters through a single place (your actions)
                        and then flow outward through their state manager (the store)
                        and finally onto the view. The view can then restart the flow by calling
                        other actions in response to user input.
                    </section>
                    <section>
                        <h2>Why Flux</h2>
                        <ul>
                            <li>State is messy</li>
                            <li>Unidirectional data makes for easy debugging</li>
                            <li>Composable components favor reuse</li>
                            <li>Stores as a single domain also simplifies debugging</li>
                        </ul>
                    </section>
                </section>
                <section>
                    <h2>Dispatcher</h2>
                    <ul>
                        <li>*SINGLE* messaging hub in the application</li>
                        <li>Registry of callbacks</li>
                        <li>Has no logic</li>
                        <li>Dispatcher recieves actions and fires corresponding callback</li>
                        <li>Can manage dependencies between stores</li>
                    </ul>
                </section>
                <section>
                    <h2>Stores</h2>
                    <ul>
                        <li>Contain the domain logic</li>
                        <li>More than just a model</li>
                        <li>All stores get the callback from the dispatcher and handle in a case statement</li>
                        <li>Changes made through dispatcher -> Store's case statement on action type -> Data update -> Fire change event</li>
                        <li>Views can query the store but they are treated as immutable from view's perspective</li>
                    </ul>
                </section>
                <section>
                    <h2>Actions</h2>
                    <ul>
                        <li>Views can start the communication intents via actions</li>
                        <li>Actions are sent through the dispatcher and sent out to the stores</li>
                        <li>We have had luck with past tense but it doesn't matter as long as you are consistent</li>
                        <li>Try to keep actions generic where possible</li>
                    </ul>
                </section>
                <section>
                    <img src="./images/flux-react-mvc.png" style="margin-top: -55px; border:none;"/>
                    <img src="./images/flux-react.png" style="border:none;"/>
                </section>
                <section>
                    <h5>MVC</h5>
                    <img src="./images/mvc-basic.png" style="border:none;"/>
                </section>
                <section>
                    <h5>Flux</h5>
                    <img src="./images/flux-basic.png" style="border:none;"/>
                </section>


                <section>
                    <h2>React Router</h2>
                    <ul>
                        <li>Create a router for our application</li>
                    </ul>
                </section>
                <section>
                    <section>
                        <h2>Redux</h2>
                        <ul>
                            <li>Redux is a framework that controls states in a JavaScript app.</li>
                            <li>According to the official site:
                                <p><em>Redux is a predictable state container for JavaScript apps.</em></p>
                            </li>
                        </ul>
                    </section>
                    <section>
                        <h2>Why Redux</h2>
                        <img src="./images/redux.png" alt="Redux" width="200px" style="border:0;box-shadow: none;" />
                    </section>
                    <section>
                        <h2>Advantages</h2>
                        <ul>
                            <li>"A predictable state container"</li>
                            <li>Single source of truth</li>
                            <li>Portable code</li>
                            <li>Separate presentation layer from logic and data</li>
                            <li>You can specify the behavior of your app before even starting to write the UI.</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Basic principle</h2>
                        <p>
                            <pre><code>
    (previousState, action) => newState

</code></pre>
                        </p>
                    </section>
                    <section>
                        <h2>Redux way of working</h2>
                        <p>
                            <img src="./images/redux-life.png" alt="Redux">
                        </p>
                    </section>
                </section>

                <section>
                    <h4>Stores are more than just models</h4>
                    <ul>
                      <li>We can use stores to hold onto state</li>
                      <li>This makes stores powerful in routing</li>
                      <li>Can update and emit change event to parent views to rerender children</li>
                      <li>This demo chooses to go a slightly different route and uses page.js</li>
                    </ul>
                </section>
                <section>
                    <section>
                        <h4>Higher-Order Functions</h4>
                        <ul>
                            <li>Mixin API for React while stable does not play with es6 classes</li>
                            <li>High Order Functions are a more ideal solution for numerous reasons</li>
                        </ul>
                    </section>
                    <section>
                        <h4>Compare and Contrast these solutions</h4>
                        <pre><code>
var array = [1, 2, 3];
for (var i = 0; i < array.length; i++) {
  var current = array[i];
  console.log(current);
}

//vs........

function forEach(array, action) {
  for (var i = 0; i < array.length; i++)
    action(array[i]);
}

forEach([1, 2, 3], console.log);
                        </code></pre>
                    </section>
                    <section>
                        <h4>Higher-Order Functions</h4>
                        <ul>
                            <li>Functions that operate on other functions, either by taking them as arguments or by returning them, are called higher-order functions.</li>
                            <li>Higher-order functions allow us to abstract over actions, not just values.</li>
                        </ul>
                    </section>
                    <section>
                      <a href="https://www.youtube.com/watch?v=wfMtDGfHWpA">Video Here</a>
                      <iframe width="800" height="450" src="https://www.youtube.com/embed/wfMtDGfHWpA" frameborder="0" allowfullscreen></iframe>
                    </section>
                </section>
            </div>
        </div>
        <script src="./lib/lib/js/head.min.js"></script>
        <script src="./lib/js/reveal.js"></script>
        <script src="./js/app.js" type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript" charset="utf-8">
            Reveal.initialize(revealConfig);
        </script>
    </body>
</html>
